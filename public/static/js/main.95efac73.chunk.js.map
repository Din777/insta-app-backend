{"version":3,"sources":["cmps/AppHeader.jsx","service/utilService.js","cmps/CommentPreview.jsx","cmps/CommentList.jsx","service/storageService.js","service/httpService.js","service/postService.js","store/action/postActions.js","cmps/PostActionsBtns.jsx","store/action/commentActions.js","cmps/AddComment.jsx","cmps/PostPreview.jsx","pages/PostList.jsx","service/cloudinaryService.js","cmps/AddPost.jsx","cmps/RemovePostConfirm.jsx","pages/InstaApp.jsx","pages/Login.jsx","pages/Signup.jsx","App.jsx","reportWebVitals.js","store/reducer/postReducer.js","store/store.js","index.js"],"names":["AppHeader","className","to","type","name","placeholder","autoComplete","aria-label","display","fill","height","viewBox","width","d","clipRule","fillRule","Avatar","src","alt","utilService","makeId","length","txt","possible","i","charAt","Math","floor","random","getRandomInt","min","max","dateFormatter","timeStampStart","dateFormat","Date","toString","dayName","substring","month","dayNum","time","timeDifference","current","previous","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","round","CommentPreview","comment","post","loggedinUser","onEditPost","byUser","username","_id","onClick","currCommentId","id","postCopy","comments","filter","xmlns","now","createdAt","CommentList","map","StorageService","load","key","str","localStorage","getItem","JSON","parse","save","val","stringify","setItem","Axios","create","withCredentials","axios","gPosts","require","BASE_URL","postService","query","getById","postId","find","Promise","resolve","reject","savePost","remove","a","get","then","res","data","posts","console","log","delete","put","removePost","postToRemove","userId","dispatch","editPost","editedPost","catch","err","_PostActionsBtns","state","isLiked","isScale","onToggleLiked","props","likes","findIndex","like","setState","push","setTimeout","this","Component","mapDispatchToProps","PostActionsBtns","connect","postModule","addComment","_AddComment","onSaveComment","ev","preventDefault","savedComment","alert","unshift","onInputChange","target","value","onSubmit","onChange","AddComment","_PostPreview","Card","CardHeader","avatar","user","imgUrl","action","IconButton","toggleRemovePost","title","PostPreview","PostList","cloudinaryService","uploadImg","file","UPLOAD_URL","formData","FormData","append","fetch","method","body","json","secure_url","_AddPost","onUploadImg","files","onSavePost","savedPost","addPost","addPostFalse","imageState","htmlFor","rows","accept","hidden","addedPost","AddPost","RemovePostConfirm","List","component","ListItem","button","ListItemText","primary","Divider","divider","_InstaApp","isNewPost","isRemovePost","onToggleRemovePost","onAddPostTrue","onAddPostFalse","onRemovePost","loadPosts","filterBy","InstaApp","Login","initialValues","email","password","validate","values","errors","test","setSubmitting","touched","handleChange","handleBlur","handleSubmit","isSubmitting","onBlur","disabled","Signup","firstName","lastName","r","App","Fragment","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","regex","RegExp","text","inStock","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95efac73.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\n// import { connect } from 'react-redux'\r\n\r\nexport function AppHeader() {\r\n\r\n    // nav-layout needs flex justify center\r\n    // main-layout need min-width 980px\r\n    // main-layout need max-width 1200px\r\n    return (\r\n        <section className=\"main-header flex justify-center\">\r\n            <header className=\"header-layout\">\r\n                <div className=\"header-container flex align-center space-between\">\r\n                    <div className=\"header-left flex align-center\">\r\n                        <div className=\"header-logo\">\r\n                            <Link to=\"/\">InstaApp</Link>{/*scrollIntoView(alignToTop)*/}\r\n                        </div>\r\n                        {/* <Link to=\"/login\" className=\"login-btn\">Login</Link> */}\r\n                        {/* <Link to=\"/signup\" className=\"signup-btn\">Signup</Link> */}\r\n                        {/* <button className=\"login-btn\">Login</button> */}\r\n                        {/* <button className=\"signup-btn\">Signup</button> */}\r\n                    </div>\r\n                    <input type=\"text\" name=\"text\" placeholder=\"Search\" autoComplete=\"off\" className=\"search-input\" />\r\n                    <div className=\"header-list clean-list\">\r\n                        {/* <ul> */}\r\n                        <div className=\"nav-icons flex\" >\r\n                            <Link to=\"/\"><svg aria-label=\"Home\" className=\"_8-yf5\" display=\"none\" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path d=\"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z\"></path></svg></Link>\r\n                            <Link to=\"/\"><svg aria-label=\"Home\" className=\"_8-yf5\" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path d=\"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z\"></path></svg></Link>\r\n                            <Link to=\"/chat\"><svg aria-label=\"Messenger\" className=\"_8-yf5 \" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path d=\"M36.2 16.7L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.8 10.7c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9l6.8-10.7c.6-1.1-.7-2.2-1.7-1.5zM24 1C11 1 1 10.5 1 23.3 1 30 3.7 35.8 8.2 39.8c.4.3.6.8.6 1.3l.2 4.1c0 1 .9 1.8 1.8 1.8.2 0 .5 0 .7-.2l4.6-2c.2-.1.5-.2.7-.2.2 0 .3 0 .5.1 2.1.6 4.3.9 6.7.9 13 0 23-9.5 23-22.3S37 1 24 1zm0 41.6c-2 0-4-.3-5.9-.8-.4-.1-.8-.2-1.3-.2-.7 0-1.3.1-2 .4l-3 1.3V41c0-1.3-.6-2.5-1.6-3.4C6.2 34 4 28.9 4 23.3 4 12.3 12.6 4 24 4s20 8.3 20 19.3-8.6 19.3-20 19.3z\"></path></svg></Link>\r\n                            <Link to=\"/compass\"><svg aria-label=\"Find People\" className=\"_8-yf5 \" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path clipRule=\"evenodd\" d=\"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z\" fillRule=\"evenodd\"></path></svg></Link>\r\n                            <Link to=\"/favorites\"><svg aria-label=\"Activity Feed\" className=\"_8-yf5 \" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg></Link>\r\n                        </div>\r\n                        {/* <i class=\"far fa-plus-square\"></i> */}\r\n                        {/* </ul> */}\r\n                        <Avatar aria-label=\"recipe\" className={\"avatar\"}>\r\n                            <img src=\"https://www.goodesign.co.il/wp-content/uploads/2017/03/HIPSTORY-Shimoni-Lincoln.jpg\" alt=\"\"/>\r\n                        </Avatar>\r\n                    </div>\r\n                </div>\r\n            </header >\r\n            {/* <h3>Welcome <Link to=\"/profile\">{loggedInUser.username}</Link></h3> */}\r\n        </section >\r\n    )\r\n}\r\n\r\n// const mapStateToProps = () => {\r\n//     return {\r\n//         loggedInUser: 'User',\r\n//     }\r\n// }\r\n\r\n// export const AppHeader = connect(mapStateToProps)(_AppHeader);","export const utilService = {\r\n    makeId,\r\n    getRandomInt,\r\n    dateFormatter,\r\n    timeDifference\r\n};\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min) + min); // Min is inclusive, Max is Exclusive\r\n}\r\n\r\nfunction dateFormatter(timeStampStart) {\r\n    const dateFormat = new Date(timeStampStart).toString()\r\n    const dayName = dateFormat.substring(0, 3)\r\n    const month = dateFormat.substring(4, 8)\r\n    const dayNum = dateFormat.substring(8, 10)\r\n    const time = dateFormat.substring(15, 21)\r\n    return (\r\n        <section>\r\n            <h3> {dayName + ', ' + month + dayNum}</h3>\r\n            <p>{time}</p>\r\n        </section>\r\n    )\r\n}\r\nfunction timeDifference(current, previous) {\r\n\r\n    var msPerMinute = 60 * 1000;\r\n    var msPerHour = msPerMinute * 60;\r\n    var msPerDay = msPerHour * 24;\r\n    var msPerMonth = msPerDay * 30;\r\n    var msPerYear = msPerDay * 365;\r\n\r\n    var elapsed = current - previous;\r\n\r\n    if (elapsed < msPerMinute) {\r\n         return Math.round(elapsed/1000) + ' seconds ago';   \r\n    }\r\n\r\n    else if (elapsed < msPerHour) {\r\n         return Math.round(elapsed/msPerMinute) + ' minutes ago';   \r\n    }\r\n\r\n    else if (elapsed < msPerDay ) {\r\n         return Math.round(elapsed/msPerHour ) + ' hours ago';   \r\n    }\r\n\r\n    else if (elapsed < msPerMonth) {\r\n        return Math.round(elapsed/msPerDay) + ' days ago';   \r\n    }\r\n\r\n    else if (elapsed < msPerYear) {\r\n        return  Math.round(elapsed/msPerMonth) + ' months ago';   \r\n    }\r\n\r\n    else {\r\n        return  Math.round(elapsed/msPerYear ) + ' years ago';   \r\n    }\r\n}","import React from 'react';\r\nimport { utilService } from '../service/utilService.js';\r\n\r\n\r\nexport function CommentPreview({ comment, post, loggedinUser, onEditPost }) {\r\n\r\n    function onRemoveComment() {\r\n        if (comment.byUser._id !== loggedinUser._id) return\r\n        const currCommentId = comment.id\r\n        const postCopy = { ...post } // might change to JSON-parse+stringify\r\n        postCopy.comments = postCopy.comments.filter(comment => comment.id !== currCommentId)\r\n        onEditPost(postCopy)\r\n    }\r\n\r\n    return (\r\n        <section className=\"comment-container\">\r\n            <div className=\"flex space-between\">\r\n                <div>\r\n                    <span className=\"comm-by-user\">{comment.byUser.username}</span>\r\n                    <span className=\"comm-text\">{comment.txt}</span>\r\n                </div>\r\n                {(comment.byUser._id === loggedinUser._id) &&\r\n                    <svg className=\"delete-comment-btn\" onClick={onRemoveComment} xmlns=\"http://www.w3.org/2000/svg\" width=\"7\" height=\"7\" viewBox=\"0 0 512 512\"><path d=\"M512 28.308L483.692 0 256 227.692 28.308 0 0 28.308 227.692 256 0 483.692 28.308 512 256 284.308 483.692 512 512 483.692 284.308 256z\"></path></svg>}\r\n            </div>\r\n            <span className=\"comm-create-date\">{utilService.timeDifference(Date.now(), comment.createdAt)}</span>\r\n        </section>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { CommentPreview } from \"./CommentPreview.jsx\"\r\n\r\nexport function CommentList({ comments, post, loggedinUser, onEditPost }) {\r\n    return (\r\n        <div className=\"comment-list\">\r\n            {comments.map(comment => {\r\n                return <CommentPreview key={comment.id} comment={comment} post={post} onEditPost={onEditPost} loggedinUser={loggedinUser} />\r\n            })}\r\n        </div>\r\n    )\r\n}","export const StorageService = {\r\n    load,\r\n    save\r\n}\r\n\r\nfunction load(key) {\r\n    const str = localStorage.getItem(key)\r\n    return JSON.parse(str)\r\n}\r\n\r\nfunction save(key, val) {\r\n    const str = JSON.stringify(val)\r\n    localStorage.setItem(key, str)\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        console.log(endpoint, 'PUT', data);\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { StorageService } from './storageService.js';\r\nimport { utilService } from './utilService.js';\r\nimport Axios from 'axios';\r\nimport { httpService } from './httpService.js'\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n})\r\nconst fs = require('fs')\r\nvar gPosts = require('../data/post.json')\r\n\r\n// const BASE_URL = 'http://localhost:3030/api/posts';\r\nconst BASE_URL = (process.env.NODE_ENV !== 'development') ? 'api/posts' : '//localhost:3030/api/posts'\r\n\r\n\r\nexport const postService = {\r\n    query,\r\n    getById,\r\n    savePost,\r\n    remove\r\n}\r\n\r\nasync function query() {\r\n    var posts = await axios.get(`${BASE_URL}`)\r\n        .then(res => res.data)\r\n    if (!posts) {\r\n        StorageService.save('posts', gPosts)\r\n        return Promise.resolve(gPosts)\r\n    }\r\n    else return Promise.resolve(posts)\r\n}\r\nfunction getById(postId) {\r\n    var gPosts = StorageService.load('posts')\r\n    const post = gPosts.find(post => post._id === postId)\r\n    if (post) return Promise.resolve(post)\r\n    else return Promise.reject('No post')\r\n}\r\n\r\nasync function remove(postId) {\r\n    console.log('enter remove', postId);\r\n    const res = await axios.delete(`${BASE_URL}/${postId}`),\r\n        { data } = res\r\n    return data\r\n}\r\n\r\nasync function savePost(post) {\r\n    // console.log('POST SERVICE FRONT')\r\n    // console.log('enter savePost', post._id);\r\n    var res;\r\n    if (post._id) {\r\n        // console.log('entrer if post._id');\r\n        res = await axios.put(`${BASE_URL}/${post._id}`, post)\r\n        // console.log('exist post.id');\r\n    }\r\n    else {\r\n        res = await axios.post(BASE_URL, post)\r\n        // console.log('else');\r\n    }\r\n    // console.log('res',res);\r\n    return res.data\r\n}\r\n\r\nfunction _savePostsToFile(gPosts) {\r\n    fs.writeFileSync('data/post.json', JSON.stringify(gPosts, null, 2))\r\n}","import { postService } from \"../../service/postService.js\"\r\n\r\n\r\nexport function loadPosts(filterBy) {\r\n  return (dispatch) => {\r\n    // console.log('filterBy', filterBy);\r\n    postService.query(filterBy).then(posts => { dispatch({ type: 'SET_POSTS', posts: posts }) })\r\n\r\n  }\r\n}\r\n\r\nexport function removePost(postToRemove, loggedinUser) {\r\n  // console.log('postAction- removePost', postToRemove);\r\n  if (postToRemove.userId !== loggedinUser._id) {\r\n    console.log('it is not your post!');\r\n    return\r\n  }\r\n  else {\r\n    const postId = postToRemove.postId\r\n    return (dispatch) => {\r\n      postService.remove(postId).then(() => { dispatch({ type: 'REMOVE_POST', postId }) })\r\n    }\r\n  }\r\n}\r\n\r\nexport function editPost(post) {\r\n  // console.log('enter edit post-before backend,post:', post)\r\n  return (dispatch) => {\r\n    return postService.savePost(post)\r\n      .then((editedPost) => {\r\n        // console.log('enter edit post-after backend')\r\n        const action = {\r\n          type: 'EDIT_POST',\r\n          post: editedPost\r\n        }\r\n        dispatch(action)\r\n      })\r\n      .catch(err => {\r\n        console.log('ERR:', err);\r\n      })\r\n  }\r\n}\r\n\r\nexport function addPost(post) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedPost = await postService.savePost(post)\r\n      dispatch({ type: 'ADD_POST', post: addedPost })\r\n    } catch (err) {\r\n      console.log('PostActions: err in savePost', err)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n","import { React, Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { utilService } from '../service/utilService.js';\r\nimport { editPost } from '../store/action/postActions.js'\r\n\r\nexport class _PostActionsBtns extends Component {\r\n\r\n    state = {\r\n        isLiked: false,\r\n        isScale: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { post, loggedinUser } = this.props\r\n        const idxLike = (post.likes.findIndex(like => like.byUser._id === loggedinUser._id))\r\n        if (idxLike !== -1)\r\n            this.setState({ isLiked: true })\r\n    }\r\n\r\n    onToggleLiked = () => {\r\n        const { loggedinUser, post } = this.props\r\n        const postCopy = { ...post } // might change to JSON-parse+stringify\r\n        const idx = postCopy.likes.findIndex(like => like.byUser._id === loggedinUser._id)\r\n        if (idx === -1) {\r\n            this.setState({ isLiked: true })\r\n            postCopy.likes.push({ id: utilService.makeId(), byUser: { ...loggedinUser } })\r\n        }\r\n        else {\r\n            this.setState({ isLiked: false })\r\n            postCopy.likes = postCopy.likes.filter(like => like.byUser._id !== loggedinUser._id)\r\n        }\r\n        this.props.editPost(postCopy)\r\n        \r\n        //for jumping heart by onClick\r\n        this.setState({isScale: true})\r\n        setTimeout(() => this.setState({isScale:false}), 50)\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { post } = this.props\r\n        const isLiked = this.state.isLiked\r\n        return (\r\n            <div className=\"act-btn-container\">\r\n                <div className=\"post-actions-btns flex space-between \">\r\n                    <div className=\"left-act-btns-container flex space-between\">\r\n                        {isLiked && <svg aria-label=\"Unlike\" onClick={this.onToggleLiked} className={`_8-yf5 ${this.state.isScale? 'scale': ''}`} fill=\"#ed4956\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>}\r\n                        {!isLiked &&\r\n                            <svg aria-label=\"Like\" onClick={this.onToggleLiked} className={`_8-yf5 ${this.state.isScale? 'scale': ''}`}\r\n                                viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>}\r\n                        <svg aria-label=\"Comment\" className=\"_8-yf6 \" viewBox=\"0 0 48 48\"\r\n                            width=\"24\"><path d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\" ></path></svg>\r\n                        <svg aria-label=\"Share Post\" className=\"_8-yf7 \"\r\n                            viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"></path></svg>\r\n                    </div>\r\n                    <div className=\"right-act-btn\">\r\n                        <svg aria-label=\"Save\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z\"></path></svg>\r\n                    </div>\r\n                </div>\r\n                {/* <button className=\"like-count-btn\">{post.likes.length} likes</button> */}\r\n                <p><span>{post.likes.length}</span> likes</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        posts: state.postModule.posts,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    editPost\r\n\r\n}\r\n\r\nexport const PostActionsBtns = connect(mapStateToProps, mapDispatchToProps)(_PostActionsBtns)\r\n\r\n","import { postService } from \"../../service/postService.js\"\r\n\r\nexport function loadComments(filterBy) {\r\n    return (dispatch) => {\r\n        postService.query(filterBy)\r\n            .then(comments => { dispatch({ type: 'SET_COMMENTS', comments }) })\r\n    }\r\n}\r\n\r\nexport function removeComment(commentId) {\r\n    console.log('actions', commentId);\r\n    return (dispatch) => {\r\n        postService.removeComment(commentId).then(() => { dispatch({ type: 'REMOVE_COMMENT', commentId }) })\r\n    }\r\n}\r\n\r\nexport function editComment(comment) {\r\n    console.log(\"adding comment action \", comment);\r\n    return (dispatch) => {\r\n        console.log(\"adding comment action \", comment);\r\n        postService.editComment(comment)\r\n            .then(() => { dispatch({ type: 'EDIT_COMMENT', comment }) })\r\n            .catch(err => {\r\n                alert('OOPs, try again');\r\n                console.log('ERR:', err);\r\n            })\r\n    }\r\n}\r\nexport function addComment(comment) {\r\n    console.log(comment, 'action-add comment');\r\n    return (dispatch) => {\r\n        postService.savePost().then((comment) => { dispatch({ type: 'ADD_POST', comment: comment }) })\r\n    }\r\n}\r\n\r\n","import { React, Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addComment } from '../store/action/commentActions.js'\r\nimport { utilService } from '../service/utilService.js'\r\nimport { editPost } from '../store/action/postActions.js'\r\n\r\n\r\nclass _AddComment extends Component {\r\n\r\n    state = {\r\n        comment: {\r\n            id: utilService.makeId(),\r\n            txt: '',\r\n            createdAt: Date.now(),\r\n            byUser: this.props.loggedinUser\r\n        }\r\n    }\r\n\r\n\r\n    onSaveComment = async (ev) => {\r\n        ev.preventDefault()\r\n        const { post } = this.props\r\n        const postCopy = { ...post } // might change to const postCopy = JSON.parse(JSON.stringify(post))\r\n        const savedComment = this.state.comment\r\n        if (!savedComment.txt) return alert('Can not post empty comment')\r\n        postCopy.comments.unshift(savedComment)\r\n        this.props.editPost(postCopy)\r\n        this.setState({ comment: { txt: '' } })\r\n    }\r\n\r\n\r\n    onInputChange = (ev) => {\r\n        const comment = { ...this.state.comment }\r\n        comment.txt = ev.target.value\r\n        this.setState({\r\n            comment\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"comment-area\">\r\n                <form onSubmit={this.onSaveComment} className=\"form-container flex space-between\">\r\n                    <div className=\"input-container\">\r\n                        <input type=\"txt\" placeholder=\"Add a comment...\" value={this.state.comment.txt} name=\"txt\" className=\"add-comment-textarea\" onChange={this.onInputChange} autoComplete=\"off\" />\r\n                    </div>\r\n                    <button className=\"add-comment-btn\">Post</button >\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        comments: state.postModule.comments,\r\n        posts: state.postModule.posts,\r\n        loggedinUser: state.postModule.loggedinUser\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addComment,\r\n    editPost\r\n}\r\n\r\nexport const AddComment = connect(mapStateToProps, mapDispatchToProps)(_AddComment)\r\n\r\n\r\n","import { React, Component } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport { CommentList } from './CommentList.jsx'\r\nimport { removePost, editPost } from '../store/action/postActions.js'\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux'\r\nimport { PostActionsBtns } from './PostActionsBtns.jsx'\r\nimport { AddComment } from './AddComment.jsx';\r\nimport { addComment } from '../store/action/commentActions.js'\r\n\r\nclass _PostPreview extends Component {\r\n\r\n    // onAddComment = async (comment) => {\r\n    //     console.log('enter on add comment');\r\n    //     const { loggedinUser, post } = this.props\r\n    //     const postCopy = { ...post } // might change to const postCopy = JSON.parse(JSON.stringify(post))\r\n    //     postCopy.comments.unshift({ id: utilService.makeId(), txt: '', createdAt: Date.now(), byUser: { ...loggedinUser } })\r\n    //     this.props.editPost(postCopy)\r\n\r\n    // await addComment(comment, this.props.post)\r\n    // console.log('succscsder');\r\n\r\n    // Solution:\r\n    // you take the post object,\r\n    // const { post } = this.prop\r\n    // const postCopy = JSON.parse(JSON.stringify(post))\r\n    // postCopy.comments.push(comment)\r\n    // Call for action to add editPost(postCopy)\r\n\r\n\r\n    render() {\r\n        // const { post } = this.props\r\n        const { loggedinUser, post } = this.props\r\n        return (\r\n            <section>\r\n                <Card className={\"root\"}>\r\n                    <CardHeader\r\n                        avatar={\r\n                            <Avatar aria-label=\"recipe\" className={\"avatar\"}>\r\n                                <img src={post.user.imgUrl} alt=\"\" />\r\n                            </Avatar>\r\n                        }\r\n                        action={\r\n                            // <IconButton aria-label=\"settings\" onClick={() => this.props.removePost(post, loggedinUser)}>\r\n                            <IconButton aria-label=\"settings\" className=\"more-opt-btn\"\r\n                                onClick={() => this.props.toggleRemovePost(post._id, post.user._id)}>\r\n                                <MoreHorizIcon />\r\n                            </IconButton>\r\n                        }\r\n                        title={post.user.username}\r\n                    // subheader={post.title}\r\n                    />\r\n                    <div>\r\n                        <img className=\"post-img\" src={post.imgUrl} alt=\"\" />\r\n                    </div>\r\n                    {/* <CardMedia\r\n                        className={\"media\"}\r\n                        image={post.title}\r\n                        title=\"Paella dish\"\r\n                    /> */}\r\n                    {<PostActionsBtns post={post} loggedinUser={loggedinUser} />}\r\n                    <div className=\"post-title-container\">\r\n                        <span className=\"post-title-username\">{post.user.username}</span>\r\n                        <span className=\"post-title-text\">{post.title}</span>\r\n                    </div>\r\n                    <p className=\"comments-counter\">View all {post.comments.length} comments</p>\r\n                    {<CommentList comments={post.comments} post={post} onEditPost={this.props.editPost} loggedinUser={loggedinUser} />}\r\n                    <AddComment post={post} />\r\n                </Card>\r\n            </section>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        posts: state.postModule.posts,\r\n        loggedinUser: state.postModule.loggedinUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    removePost,\r\n    editPost,\r\n    addComment\r\n}\r\nexport const PostPreview = connect(mapStateToProps, mapDispatchToProps)(_PostPreview);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { PostPreview } from \"../cmps/PostPreview.jsx\"\r\n\r\nexport function PostList({ posts, toggleRemovePost }) {\r\n\r\n    return (\r\n        <div className=\"post-list\">\r\n            {posts.map(post => {\r\n                return <PostPreview className=\"post-preview\" key={post._id} post={post} toggleRemovePost={toggleRemovePost} />\r\n            })}\r\n        </div>\r\n    )\r\n}","export const cloudinaryService = {\r\n    uploadImg\r\n}\r\n\r\nasync function uploadImg(file) {\r\n    const CLOUD_NAME = \"suny\"\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file)\r\n    formData.append('upload_preset', 'InstaApp');\r\n    try {\r\n        const res = await fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n        const data = await res.json()\r\n        return data.secure_url\r\n\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}","import { React, Component } from 'react'\r\nimport { addPost } from '../store/action/postActions.js'\r\nimport { connect } from 'react-redux'\r\nimport { cloudinaryService } from '../service/cloudinaryService.js';\r\n\r\n\r\nexport class _AddPost extends Component {\r\n\r\n    state = {\r\n        post: {\r\n            title: '',\r\n            imgUrl: null,\r\n            createdAt: Date.now(),\r\n            user: {\r\n                \"_id\": \"sadad748\",\r\n                \"username\": \"abraham_lincoln\",\r\n                \"imgUrl\": \"https://www.goodesign.co.il/wp-content/uploads/2017/03/HIPSTORY-Shimoni-Lincoln.jpg\"\r\n            },\r\n            comments: [],\r\n            likes: []\r\n        }\r\n\r\n    }\r\n\r\n    onUploadImg = async (ev) => {\r\n        const imgUrl = await cloudinaryService.uploadImg(ev.target.files[0]);\r\n        const postCopy = { ...this.state.post, imgUrl: imgUrl }\r\n        this.setState({ post: postCopy })\r\n    }\r\n\r\n    onSavePost = async ev => {\r\n        ev.preventDefault()\r\n        const savedPost = this.state.post\r\n        if (!this.state.post.title || !this.state.post.imgUrl) return alert('All fields are required')\r\n        await this.props.addPost(savedPost)\r\n        this.setState({ savedPost: { title: '', imgUrl: '' } })\r\n        this.props.addPostFalse()\r\n    }\r\n\r\n    onInputChange = (ev) => {\r\n        const post = { ...this.state.post }\r\n        post[ev.target.name] = ev.target.value\r\n        this.setState({\r\n            post\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const imageState = (this.state.post.imgUrl) ? <img src={this.state.post.imgUrl} /> : <label htmlFor=\"imgUploader\" className=\"add-post-modal-img-up\">ðŸ–¼</label>\r\n        return (\r\n            <div className=\"screen\">\r\n                <div className=\"modal\">\r\n                    <form className=\"add-post-modal\">\r\n                        <div className=\"add-post-modal-close-btn-container\">\r\n                            <button className=\"add-post-modal-close-btn\" onClick={this.props.addPostFalse}>X</button>\r\n                        </div>\r\n                        <h4>New post</h4>\r\n                        <textarea rows=\"1\" placeholder=\"Write here\" name=\"title\" className=\"add-post-modal-textarea\" onChange={this.onInputChange}></textarea>\r\n                        <input type=\"file\" accept=\"image/*\" id=\"imgUploader\" name=\"imgUrl\" onChange={this.onUploadImg} hidden />\r\n                        {imageState}\r\n                        <div className=\"add-post-btn-container\">\r\n                            <button type=\"submit\" className=\"add-post-modal-btn\" onClick={this.onSavePost}>Add</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        posts: state.postModule.posts,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addPost\r\n}\r\n\r\nexport const AddPost = connect(mapStateToProps, mapDispatchToProps)(_AddPost)\r\n\r\n","import React from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nexport function RemovePostConfirm({ toggleRemovePost, postToRemove, loggedinUser, removePost }) {\r\n\r\n    return (\r\n        <div className=\"screen\" onClick={toggleRemovePost}>\r\n            <div className=\"remove-post-modal\">\r\n                <form type=\"submit\" >\r\n                    <List component=\"nav\" className={\"opt-container\"} aria-label=\"mailbox folders\">\r\n                        {(postToRemove.userId === loggedinUser._id) &&\r\n                            <ListItem button className=\"remove-post-confirm-btn-container\" onClick={() => removePost()}>\r\n                                <ListItemText primary=\"Remove post\" className=\"remove-post-confirm-btn\" />\r\n                            </ListItem>}\r\n                        <Divider />\r\n                        <ListItem button divider>\r\n                            <ListItemText primary=\"Cancel\" className=\"cancel-btn\" />\r\n                        </ListItem>\r\n                    </List>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { PostList } from './PostList.jsx'\r\nimport { loadPosts, removePost } from '../store/action/postActions.js'\r\nimport { AddPost } from '../cmps/AddPost.jsx'\r\nimport { RemovePostConfirm } from '../cmps/RemovePostConfirm.jsx'\r\n\r\nclass _InstaApp extends Component {\r\n\r\n    state = {\r\n        isNewPost: false,\r\n        isRemovePost: false,\r\n        postToRemove: null\r\n    }\r\n\r\n    onToggleRemovePost = (postId = null, userId = null) => {\r\n        console.log('postId', postId, 'userId', userId)\r\n        // console.log('toggleRemovePost', this.state.isRemovePost);\r\n\r\n        if (this.state.isRemovePost) {\r\n            this.setState({ isRemovePost: false })\r\n            this.setState({ postToRemove: null })\r\n        }\r\n        else {\r\n            this.setState({ isRemovePost: true })\r\n            this.setState({ postToRemove: { postId, userId } })\r\n\r\n        }\r\n    }\r\n\r\n    onAddPostTrue = () => {\r\n        // console.log('is post true- before', this.state);\r\n        if (!this.state.isNewPost) this.setState({ isNewPost: true })\r\n    }\r\n\r\n    onAddPostFalse = () => {\r\n        // console.log('is post false- before', this.state);\r\n        if (this.state.isNewPost) this.setState({ isNewPost: false })\r\n    }\r\n\r\n    onRemovePost = () => {\r\n        console.log('enter onRemovePost');\r\n        this.props.removePost(this.state.postToRemove, this.props.loggedinUser)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadPosts(this.props.filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { posts } = this.props\r\n        return (\r\n            <section className=\"app-body\">\r\n                {this.state.isRemovePost && <RemovePostConfirm\r\n                    toggleRemovePost={this.onToggleRemovePost}\r\n                    postToRemove={this.state.postToRemove}\r\n                    loggedinUser={this.props.loggedinUser}\r\n                    removePost={this.onRemovePost}\r\n                />}\r\n                <PostList posts={posts} toggleRemovePost={this.onToggleRemovePost} />\r\n                <div>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"add-post-btn\" onClick={this.onAddPostTrue} viewBox=\"0 0 477.867 477.867\"><path d=\"M392.533 0h-307.2C38.228.056.056 38.228 0 85.333v307.2c.056 47.105 38.228 85.277 85.333 85.333h307.2c47.105-.056 85.277-38.228 85.333-85.333v-307.2C477.81 38.228 439.638.056 392.533 0zm51.2 392.533c0 28.277-22.923 51.2-51.2 51.2h-307.2c-28.277 0-51.2-22.923-51.2-51.2v-307.2c0-28.277 22.923-51.2 51.2-51.2h307.2c28.277 0 51.2 22.923 51.2 51.2v307.2z\"></path><path d=\"M324.267 221.867H256V153.6c0-9.426-7.641-17.067-17.067-17.067s-17.067 7.641-17.067 17.067v68.267H153.6c-9.426 0-17.067 7.641-17.067 17.067S144.174 256 153.6 256h68.267v68.267c0 9.426 7.641 17.067 17.067 17.067S256 333.692 256 324.267V256h68.267c9.426 0 17.067-7.641 17.067-17.067s-7.642-17.066-17.067-17.066z\"></path></svg>\r\n                    {/* <button className=\"add-post-btnn\" onClick={this.onAddPostTrue}>âž•</button> */}\r\n                </div>\r\n                {this.state.isNewPost && <AddPost addPostFalse={this.onAddPostFalse} />}\r\n                <footer className=\"main-footer flex justify-center \">\r\n                    <small>InstaApp - All Rights Reserved Â© 2021</small>\r\n                </footer>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        posts: state.postModule.posts,\r\n        loggedinUser: state.postModule.loggedinUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadPosts,\r\n    removePost\r\n}\r\n\r\nexport const InstaApp = connect(mapStateToProps, mapDispatchToProps)(_InstaApp);\r\n","import React from 'react';\r\n// import { Formik } from 'formik';\r\n\r\nconst Login = () => (\r\n    <div className=\"login-page\">\r\n        <h1>Welcome back!</h1>\r\n        <form\r\n            initialValues={{ email: '', password: '' }}\r\n            validate={values => {\r\n                const errors = {};\r\n                if (!values.email) {\r\n                    errors.email = 'Required';\r\n                } else if (\r\n                    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                ) {\r\n                    errors.email = 'Invalid email address';\r\n                }\r\n                return errors;\r\n            }}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                    alert(JSON.stringify(values, null, 2));\r\n                    setSubmitting(false);\r\n                }, 400);\r\n            }}\r\n        >\r\n            {({\r\n                values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                isSubmitting,\r\n                /* and other goodies */\r\n            }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                    <input\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        value={values.email}\r\n                    />\r\n                    {errors.email && touched.email && errors.email}\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        value={values.password}\r\n                    />\r\n                    {errors.password && touched.password && errors.password}\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        Submit\r\n           </button>\r\n                </form>\r\n            )}\r\n        </form>\r\n    </div>\r\n);\r\n\r\nexport default Login","import React from 'react';\r\n// import ReactDOM from 'react-dom';\r\n// import { Formik, Field, Form } from 'formik';\r\n\r\nexport const Signup = () => (\r\n    <div className=\"signup-page\">\r\n        <h1>Sign Up</h1>\r\n        <form\r\n            initialValues={{\r\n                firstName: '',\r\n                lastName: '',\r\n                email: '',\r\n            }}\r\n            onSubmit={async (values) => {\r\n                await new Promise((r) => setTimeout(r, 500));\r\n                alert(JSON.stringify(values, null, 2));\r\n            }}\r\n        >\r\n            <form>\r\n                <label htmlFor=\"firstName\">First Name</label>\r\n                {/* <Field id=\"firstName\" name=\"firstName\" placeholder=\"Jane\" /> */}\r\n\r\n                <label htmlFor=\"lastName\">Last Name</label>\r\n                {/* <Field id=\"lastName\" name=\"lastName\" placeholder=\"Doe\" /> */}\r\n\r\n                <label htmlFor=\"email\">Email</label>\r\n                {/* <Field\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    placeholder=\"jane@acme.com\"\r\n                    type=\"email\"\r\n                /> */}\r\n                <button type=\"submit\">Submit</button>\r\n            </form>\r\n        </form>\r\n    </div>\r\n);\r\n","import React, { Component } from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { AppHeader } from './cmps/AppHeader.jsx'\r\nimport { InstaApp } from './pages/InstaApp.jsx'\r\n// import { About } from './pages/About.jsx'\r\nimport Login from './pages/Login.jsx'\r\nimport { Signup } from './pages/Signup.jsx'\r\n// import { UserDetails } from './pages/UserDetails.jsx'\r\n// import { ChatApp } from './cmps/ChatApp.jsx'\r\n// import { CommentEdit } from './cmps/CommentEdit.jsx'\r\n// import { PostsList } from './pages/PostsList.jsx'\r\n// import { PostDetails } from './pages/PostDetails.jsx'\r\n// import { PostEdit } from './pages/PostEdit.jsx'\r\nimport './assets/styles/scss/main.scss'\r\n\r\n\r\n\r\nexport class App extends Component {\r\n    render() {\r\n        return (<React.Fragment>\r\n            <div className=\"app\">\r\n                <AppHeader />\r\n                <Switch>\r\n                    {/* <Route component={CommentEdit} path=\"/comment/edit\" /> */}\r\n                    {/* <Route component={PostEdit} path=\"/edit/:postId?\" / */}\r\n                    {/* <Route component={PostDetails} path=\"/post/:postId\" />  */}\r\n                    {/* <Route component={ChatApp} path=\"/chat\" /> */}\r\n                    {/* <Route component={Admin} path=\"/admin/userId:\" /> */}\r\n                    {/* <Route component={UserDetails} path=\"/user/userId:\" /> */}\r\n                    {/* <Route component={About} path=\"/about\" /> */}\r\n                    <Route component={Signup} path=\"/signup\" />\r\n                    <Route component={Login} path=\"/login\" />\r\n                    <Route component={InstaApp} path=\"/\" />\r\n                </Switch>\r\n            </div>\r\n        </React.Fragment>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const posts = []\r\nlet localLoggedinUser = {\r\n    \"_id\": \"sadad748\",\r\n    \"username\": \"abraham_lincoln\",\r\n    \"imgUrl\": \"https://www.goodesign.co.il/wp-content/uploads/2017/03/HIPSTORY-Shimoni-Lincoln.jpg\"\r\n}\r\n\r\nconst initialState = {\r\n    posts: posts,\r\n    filterBy: { name: '', type: '' },\r\n    loggedinUser: localLoggedinUser\r\n}\r\nexport function postReducer(state = initialState, action) {\r\n    // console.log('postReducer- action:', action);\r\n    // console.log('postReducer- state.posts:',state.posts);\r\n    switch (action.type) {\r\n        case 'SET_POSTS':\r\n            return { ...state, posts: action.posts }\r\n        case 'EDIT_POST':\r\n            // console.log('enter EDIT_POST');\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post =>\r\n                    post._id === action.post._id ? action.post : post\r\n                )\r\n            }\r\n        case 'ADD_POST':\r\n            state = { ...state, posts: [...state.posts, action.post] }\r\n            return state\r\n        case 'FILTER':\r\n            const regex = new RegExp(action.filterBy.text, 'i')\r\n            if (action.filterBy.type === \"All\" && action.filterBy.text === \"\") {\r\n                state = { ...state, posts: posts, filterBy: action.filterBy }\r\n                return state\r\n            }\r\n            else {\r\n                state = {\r\n                    ...state, posts: posts.filter(post => ((regex.test(post.name)\r\n                        && post.inStock === action.filterBy.type\r\n                        && post.type === action.filterBy.type\r\n\r\n                    ))), filterBy: action.filterBy\r\n                }\r\n                return state\r\n            }\r\n        case 'REMOVE_POST':\r\n            state = { ...state, posts: state.posts.filter(post => post._id !== action.postId) }\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import thunk from 'redux-thunk';\r\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux'\r\n\r\n\r\nimport { postReducer } from './reducer/postReducer.js';\r\n\r\nconst rootReducer = combineReducers({\r\n    postModule: postReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {App} from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store/store'\r\n\r\n\r\n\r\nReactDOM.render(\r\n\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}